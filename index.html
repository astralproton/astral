<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AstralProton</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<script src="script.js" defer></script>
</head>
</head>
<body>

<div id="authModal" style="display:none;">
  <div class="auth-container">
    <h2 id="authTitle">Iniciar Sesión</h2>
    <form id="authForm" autocomplete="off">
      <div class="auth-field" id="authNameField" style="display:none;">
        <label for="authName">Nombre real o tu nombre en linea (Si no usas el real o el nombre en linea seras baneado)</label>
        <input type="text" id="authName" autocomplete="name">
      </div>
      <div class="auth-field">
        <label for="authUsername">(NOTA: TODOS LOS USUARIOS DEBEN VOLVER A REGISTRARSE, Este ID es único y no se puede cambiar sin necesidad de algun administrador)<br/>ID de usuario:</label>
        <input type="text" id="authUsername" required autocomplete="username">
      </div>
      <div class="auth-field">
        <label for="authPassword">Contraseña</label>
        <input type="password" id="authPassword" required autocomplete="current-password">
      </div>
      <div class="auth-actions">
        <button type="submit" id="authSubmitBtn">Iniciar Sesión</button>
        <button type="button" id="authSwitchBtn">¿No tienes cuenta? Regístrate</button>
        <a href="manual.html" id="manual">Manual de instrucciones (IMPORTANTE)</a>
      </div>
      <div class="auth-error" id="authError"></div>
    </form>
  </div>
</div>

<!-- Pantalla de carga -->
<div id="loadingScreen" class="modern-loading">
    <div class="modern-loading-bg"></div>
    <div class="modern-loading-stars" id="loadingStars"></div>
    <div class="modern-loading-content">
        <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/astrallogo-Ukan4TsfqrcvSVlWpY5ILsBQnsAfAW.png" alt="AstralProton Logo" class="modern-loading-logo">
        <div class="modern-loading-text">Cargando AstralProton...</div>
        <div class="modern-loading-spinner"></div>
    </div>
</div>
<!-- Pantalla de bloqueo -->
<div class="lock-screen" id="lockScreen" style="display:flex;">
    <div class="lock-bg"></div>
    <div class="lock-stars"></div>
    <form class="lock-box" id="lockForm" autocomplete="off">
        <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/astrallogo-Ukan4TsfqrcvSVlWpY5ILsBQnsAfAW.png" alt="AstralProton Logo" class="lock-logo">
        <h2>Bienvenido a AstralProton</h2>
        <div class="lock-msg" id="lockMsg"></div>
        <input type="password" id="lockPassword" placeholder="Contraseña" autocomplete="current-password" required>
        <button type="submit" id="lockBtn">Entrar</button>
        <button type="button" id="setPasswordBtn" style="display:none;">Establecer contraseña</button>
        <span class="forgot-link" id="forgotPasswordBtn">Olvidé mi contraseña</span>
    </form>
</div>

<div id="banScreen" aria-hidden="true" style="display:none;">
  <div class="ban-overlay"></div>
  <div class="ban-card" role="alertdialog" aria-labelledby="banTitle" aria-describedby="banDesc">
    <h2 id="banTitle">Cuenta suspendida</h2>
    <p id="banDesc">Tu cuenta ha sido suspendida. Si crees que hay un error, puedes apelar.</p>

    <div class="ban-info">
      <div><strong>Motivo:</strong> <span id="banReasonText">No hay motivo establecido</span></div>
      <div style="margin-top:0.6rem;"><strong>Tiempo restante:</strong> <span id="banUntilText">—</span></div>
    </div>

    <div class="ban-actions">
      <button id="joinDiscordBtn" class="background-button primary" title="Unirse al Discord">
        <i class="fab fa-discord"></i> Unirse al Discord (más rápido)
      </button>

      <button id="appealBtn" class="background-button" title="Apelar baneo">
        <i class="fas fa-gavel"></i> Apelar baneo
      </button>
    </div>

    <form id="appealForm" style="display:none;margin-top:1rem;">
      <label for="appealTextarea">Explica brevemente por qué crees que el baneo es injusto:</label>
      <textarea id="appealTextarea" rows="4" class="profile-input" placeholder="Escribe tu apelación..."></textarea>
      <div style="display:flex;gap:0.6rem;margin-top:0.6rem;">
        <button type="button" id="appealSubmit" class="background-button primary"><i class="fas fa-paper-plane"></i> Enviar apelación</button>
        <button type="button" id="appealCancel" class="background-button danger">Cancelar</button>
      </div>
      <div id="appealMessage" style="margin-top:0.6rem;font-size:0.95rem;"></div>
    </form>

    <div style="margin-top:0.8rem;font-size:0.9rem;opacity:0.9;">
      Nota: Apelar puede tardar más que unirse al Discord y explicar tu caso; si quieres respuesta rápida únete al Discord y abre ticket.
    </div>
  </div>
</div>

<audio id="backgroundMusic" loop>
    <source src="titulo.mp3" type="audio/mpeg">
    Tu navegador no soporta el elemento de audio.
</audio>
<audio id="hoverSound">
    <source src="sfx.mp3" type="audio/mpeg">
    Tu navegador no soporta el elemento de audio.
</audio>
<audio id="coinSound">
    <source src="money.mp3" type="audio/mpeg">
    Tu navegador no soporta el elemento de audio.
</audio>

<!-- Pantalla de título (mejorada, usa mismos ids) -->
<div class="splash-screen splash-enhanced" id="splashScreen" role="dialog" aria-label="Pantalla de inicio AstralProton" aria-hidden="false">
  <div class="splash-bg-visual" aria-hidden="true">
    <div class="stars" id="splashStars"></div>
    <div class="nebula-layer"></div>
  </div>

    <div class="splash-left">
      <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/astrallogo-Ukan4TsfqrcvSVlWpY5ILsBQnsAfAW.png" alt="AstralProton Logo" class="splash-logo" id="splashLogo">
      <h1 class="splash-title">ASTRALPROTON</h1>
      <p class="splash-sub">Tu portal de juegos — rápido, limpio y personalizable</p>
    </div>

    <div class="splash-right">
      <div class="splash-cta">
        <button id="startButton" class="splash-start" aria-disabled="true" disabled>
          <span class="start-text">INICIAR</span>
        </button>

        <nav class="splash-quicklinks" aria-label="Accesos rápidos">
          <a href="#" class="splash-link">Manual de uso (NO DISPONIBLE)</a>
          <a href="#" class="splash-link">Reglas</a>
          <a href="#" class="splash-link">Términos y Condiciones</a>
          <a href="https://file.garden/ZrRAZUEI4Dz27sJF/Rick%20Astley%20-%20Never%20Gonna%20Give%20You%20Up%20(Official%20Video)%20(4K%20Remaster).mp4" class="splash-link">150 monedas gratis</a>
        </nav>

        <p class="splash-note">Consejos: <br/> Usa la opcion APASS para evitar que bloqueen la pagina <br/> Revisa las reglas. <br/> Lee los Terminos y Condiciones <br/> Lee el manual de instrucciones <br/> Sé feliz</p>
      </div>
    </div>

  <!-- temporizador circular en esquina inferior derecha (10s) -->
  <div class="splash-timer" id="splashTimer" aria-hidden="true">
    <svg width="72" height="72" viewBox="0 0 72 72" class="timer-ring" role="img" aria-label="Temporizador de inicio">
      <circle class="timer-bg" cx="36" cy="36" r="28" fill="none" stroke="rgba(255,255,255,0.06)" stroke-width="6"></circle>
      <circle id="splashProgressRing" class="timer-progress" cx="36" cy="36" r="28" fill="none" stroke="#ffd700" stroke-width="6" stroke-linecap="round" transform="rotate(-90 36 36)"></circle>
    </svg>
    <div class="splash-timer-text" id="splashCountdownText">10s</div>
  </div>
</div>

<!-- Fondo espacial -->
<div class="space-background">
    <div class="stars" id="stars"></div>
</div>

<!-- Header -->
<header>
    <div class="logo">
        <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/astrallogo-Ukan4TsfqrcvSVlWpY5ILsBQnsAfAW.png" alt="AstralProton Logo" style="height:56px;width:auto;margin-right:0.7em;vertical-align:middle;">
        <span class="logo-text" data-en="AstralProton" data-es="AstralProton">AstralProton</span>
    </div>
    <div class="user-profile">
        <div class="user-avatar" id="headerAvatar">
            <i class="fas fa-user"></i>
        </div>
        <button id="friendsBtn" title="Amigos" style="margin-left:10px;">
            <i class="fas fa-user-friends"></i>
        </button>
        <span id="headerUserName"></span>
    </div>
</header>
<!-- Contenedor principal -->
<div class="main-container">
    <!-- Sidebar -->
    <div class="sidebar">
        <a class="sidebar-item active" data-section="home">
            <i class="fas fa-home"></i>
            <span data-en="Home" data-es="Inicio">Inicio</span>
        </a>
        <a class="sidebar-item" data-section="games">
            <i class="fas fa-gamepad"></i>
            <span data-en="Games" data-es="Juegos">Juegos</span>
        </a>
        <a class="sidebar-item" data-section="about">
            <i class="fas fa-info-circle"></i>
            <span data-en="About" data-es="Acerca de">Acerca de</span>
        </a>
        <a class="sidebar-item" data-section="community">
            <i class="fas fa-users"></i>
            <span data-en="Community" data-es="Comunidad">Comunidad</span>
        </a>
        <a class="sidebar-item" data-section="shop">
            <i class="fa-solid fa-shop"></i>
            <span data-en="Shop" data-es="Tienda">Tienda</span>
        </a>
        <a class="sidebar-item" data-section="rewards">
            <i class="fas fa-gift"></i>
            <span data-en="Rewards" data-es="Recompensas">Recompensas</span>
        </a>
        <a class="sidebar-item" data-section="settings">
            <i class="fas fa-cog"></i>
            <span data-en="Settings" data-es="Configuración">Configuración</span>
        </a>
        <a class="sidebar-item" data-section="profile">
            <i class="fas fa-id-card"></i>
            <span data-en="Profile" data-es="Perfil">Perfil</span>
        </a>
    </div>

    <!-- Contenido principal -->
    <div class="content">
        <!-- Sección de inicio -->
        <div id="homeSection" class="content-section active">
            <h1 class="welcome-message" data-en="Welcome to AstralProton!" data-es="¡Bienvenido a AstralProton!">¡Bienvenido a AstralProton!</h1>
            <div class="welcome-container">
                <p class="welcome-text" data-en="Welcome back to AstralProton! Do you like this new interface? We encourage you to join our Discord server at this link: https://discord.gg/GEPrCZkWhs" data-es="¡Bienvenid@ de vuelta a AstralProton! ¿Te gusta esta nueva interfaz? Te recomendamos unirte a nuestro servidor de discord desde este link: https://discord.gg/GEPrCZkWhs">¡Bienvenid@ de vuelta a AstralProton! ¿Te gusta esta nueva interfaz? Te recomendamos unirte a nuestro servidor de discord desde este link: https://discord.gg/GEPrCZkWhs</p>
                <p class="welcome-text" data-en="Now, enjoy!" data-es="Sin mas preambulo, ¡A disfrutar!">Sin mas preambulo, ¡A disfrutar!</p>
                <p class="welcome-text" data-en="Note: In settings, if you want your desired configuration to be saved the next time you visit the page, click the SAVE SETTINGS button at the end of the section." data-es="Nota: En configuracion, si quieres que se guarde la configuracion deseada la proxima vez que visites la pagina, dale al boton GUARDAR CONFIGURACION al final del apartado.">Nota: En configuracion, si quieres que se guarde la configuracion deseada la proxima vez que visites la pagina, dale al boton GUARDAR CONFIGURACION al final del apartado.</p>
                <p class="welcome-text" data-en="Information not readable in english, please switch to spanish language." data-es="Ahora, te daremos mas informacion, esta no sera visible para aquellos que tengan la App en Ingles de manera oficial hasta una proxima drop. Checalo en el apartado acerca de!">Ahora, te daremos mas informacion, esta no sera visible para aquellos que tengan la App en Ingles de manera oficial hasta una proxima drop.</p>                            
                <a href="https://discord.gg/GEPrCZkWhs" class="background-button primary" style="min-width:200px; text-align:center; font-size:1.1rem; display:flex; align-items:center; justify-content:center; gap:0.7em;">
                        <i class="fab fa-discord"></i>
                        <span>Unirse al Discord</span>
                </a>
            </div>
        </div>
        
        <!-- Sección de juegos -->
        <div id="gamesSection" class="content-section">
            <h1 class="section-title">
                <i class="fas fa-gamepad"></i> <span data-en="Games" data-es="Juegos">Juegos</span>
            </h1>

            <!-- Categorías -->
            <div class="categories">
                <div class="category active" data-category="all">
                    <i class="fas fa-th-large"></i> <span data-en="All" data-es="Todos">Todos</span>
                </div>
                <div class="category" data-category="favorites">
                    <i class="fas fa-star"></i> <span data-en="Favorites" data-es="Favoritos">Favoritos</span>
                </div>
                <div class="category" data-category="action">
                    <i class="fas fa-running"></i> <span data-en="Action" data-es="Acción">Acción</span>
                </div>
                <div class="category" data-category="arcade">
                    <i class="fas fa-gamepad"></i> <span data-en="Arcade" data-es="Arcade">Arcade</span>
                </div>
                <div class="category" data-category="retro">
                    <i class="fas fa-ghost"></i> <span data-en="Retro" data-es="Retro">Retro</span>
                </div>
                <div class="category" data-category="puzzle">
                    <i class="fas fa-puzzle-piece"></i> <span data-en="Puzzle" data-es="Puzzle">Puzzle</span>
                </div>
                <div class="category" data-category="strategy">
                    <i class="fas fa-chess"></i> <span data-en="Strategy" data-es="Estrategia">Estrategia</span>
                </div>
            </div>


<!-- Modal para crear carpeta -->
<div id="createFolderModal" style="display:none;position:fixed;z-index:99999;top:0;left:0;width:100vw;height:100vh;background:rgba(10,10,42,0.92);align-items:center;justify-content:center;">
  <div style="background:var(--card-bg);border-radius:18px;box-shadow:0 8px 32px #000a;padding:2.5rem 2rem;max-width:400px;width:95vw;max-height:90vh;overflow-y:auto;position:relative;">
    <h2 style="color:var(--accent-color);margin-bottom:1rem;"><i class="fas fa-folder-plus"></i> Nueva carpeta</h2>
    <input type="text" id="folderNameInput" class="profile-input" placeholder="Nombre de la carpeta" style="margin-bottom:1em;">
    <label for="folderColorInput" style="margin-bottom:0.5em;">Color:</label>
    <input type="color" id="folderColorInput" value="#4169e1" style="width:100%;height:40px;margin-bottom:1em;">
    <div style="display:flex;gap:1em;justify-content:flex-end;">
      <button class="background-button primary" id="saveFolderBtn"><i class="fas fa-save"></i> Guardar</button>
      <button class="background-button danger" id="cancelFolderBtn"><i class="fas fa-times"></i> Cancelar</button>
    </div>
    <div id="folderModalError" style="color:#ff3366;margin-top:0.7em;min-height:1.2em;"></div>
  </div>
</div>



<!-- Grid de juegos -->
            <div style="width:100%;display:flex;justify-content:center;">
                <div style="margin-bottom:1.5rem;display:flex;align-items:center;gap:1rem;max-width:420px;width:100%;">
                    <input type="text" id="gameSearchInput" class="profile-input" placeholder="Buscar juego por nombre..." style="flex:1;">
                    <button class="background-button primary" id="gameSearchClearBtn" style="padding:0.7rem 1.2rem;">
                        <i class="fas fa-times"></i> Limpiar
                    </button>
                </div>
            </div>
            <button class="random-game-button" onclick="openRandomGameModal()">
                <i class="fas fa-dice"></i> Juego aleatorio
            </button>
            <div class="games-grid" id="gamesGrid">
                <!-- Los juegos se cargarán dinámicamente aquí -->
            </div>

        </div>

        <!-- Sección de tutoriales -->
        <div id="tutorialsSection" class="content-section">
            <h1 class="section-title">
                <i class="fas fa-book"></i> <span data-en="Tutorials" data-es="Tutoriales">Tutoriales</span>
            </h1>
            <div class="welcome-container">
                <p class="welcome-text" data-en="Coming soon..." data-es="Próximamente...">Próximamente...</p>
            </div>
        </div>
        <!-- Sección de acerca de -->
        <div id="aboutSection" class="content-section">
            <h1 class="section-title">
                <i class="fas fa-info-circle"></i> <span data-en="About" data-es="Acerca de:">Acerca de:</span>
            </h1>
            <div class="welcome-container" style="background: linear-gradient(135deg, #232946 0%, #4169e1 100%); color: #fff; box-shadow: 0 8px 32px #000a;">
                <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/astrallogo-Ukan4TsfqrcvSVlWpY5ILsBQnsAfAW.png" alt="AstralProton Logo" style="width:120px; margin-bottom:1.5rem; border-radius:16px; box-shadow:0 2px 18px #4169e1cc;">
                <h2 style="font-size:2rem; font-weight:800; margin-bottom:1rem; color:#ffd700; text-shadow:0 0 12px #ffd70099;">¿Qué es AstralProton?</h2>
                <p class="welcome-text" style="font-size:1.15rem; margin-bottom:1.2rem;">
                    AstralProton es un portal de juegos diseñado para proporcionar una experiencia de juego fluida y agradable.<br>
                    <b>Creado por GalavDev</b>, esta página web se enfoca en proveer juegos desbloqueados para el uso de todos con una interfaz amigable, agradable y personalizable.
                </p>
                <div style="margin:2rem 0;">
                    <h3 style="color:#ffd700; font-size:1.2rem; margin-bottom:0.7rem;">Características principales:</h3>
                    <ul style="text-align:left; max-width:700px; margin:0 auto; line-height:1.7; font-size:1.05rem;">
                        <li><b>Más de 60 juegos desbloqueados</b> de distintas categorías: acción, arcade, retro, puzzle, estrategia y más.</li>
                        <li><b>Interfaz moderna y personalizable</b>: cambia colores, fondo, música, fuente y mucho más.</li>
                        <li><b>Sistema de logros y recompensas</b> para motivar tu progreso y desbloquear contenido exclusivo.</li>
                        <li><b>Tienda virtual</b> para comprar temas, insignias y juegos premium usando tus estrellas.</li>
                        <li><b>Perfil de usuario avanzado</b> con avatar, biografía, fondo y personalización total.</li>
                        <li><b>Amistades y comunidad</b>: agrega amigos, comparte tu perfil y juega en compañía.</li>
                        <li><b>Compatible con entornos educativos</b> y uso personal, sin contenido inapropiado.</li>
                        <li><b>Actualizaciones frecuentes</b> con nuevos juegos, funciones y mejoras.</li>
                    </ul>
                </div>
                <div style="margin:2rem 0;">
                    <h3 style="color:#ffd700; font-size:1.2rem; margin-bottom:0.7rem;">¿Quién creó AstralProton?</h3>
                    <p style="font-size:1.05rem;">
                        <b>GalavDev</b> es el desarrollador principal detrás de AstralProton, con el apoyo de AstralProtonTeam.<br>
                        El objetivo es ofrecer una plataforma segura, divertida y accesible para todos los usuarios.
                    </p>
                </div>
                <div style="margin:2rem 0;">
                    <h3 style="color:#ffd700; font-size:1.2rem; margin-bottom:0.7rem;">Información adicional</h3>
                    <ul style="text-align:left; max-width:700px; margin:0 auto; line-height:1.7; font-size:1.05rem;">
                        <li><b>Versión actual:</b> <span style="color:#ffd700;">19.10.2025ab</span></li>
                        <li><b>Significado de letras finales:</b>
                            <ul>
                                <li><b>a</b> = Actualización con nuevo contenido</li>
                                <li><b>b</b> = Bugfix</li>
                                <li><b>e</b> = Eliminación de contenido</li>
                            </ul>
                        </li>
                        <li><b>Contacto y soporte:</b> Únete al <a href="https://discord.gg/GEPrCZkWhs" target="_blank" style="color:#ffd700; text-decoration:underline;">Discord oficial</a> para ayuda, sugerencias y comunidad.</li>
                    </ul>
                </div>
                <div style="margin-top:2rem;">
                    <h3 style="color:#ffd700; font-size:1.2rem; margin-bottom:0.7rem;">¿Por qué elegir AstralProton?</h3>
                    <p style="font-size:1.05rem;">
                        Porque aquí <b>tú eres el protagonista</b>: personaliza, juega, comparte y disfruta sin límites.<br>
                        ¡Gracias por ser parte de la comunidad AstralProton!
                    </p>
                </div>
            </div>
        </div>
        <!-- Sección de configuración -->
        <div id="settingsSection" class="content-section">
            <h1 class="section-title">
                <i class="fas fa-cog"></i> <span data-en="Settings" data-es="Configuración">Configuración</span>
            </h1>
            
            <div class="settings-container">
                <!-- Grupo de configuración de apariencia -->
                <div class="settings-group">
                    <h2 class="settings-title" data-en="Appearance" data-es="Apariencia">Apariencia</h2>
                    
                    <!-- Opción de tema -->
                    <div class="settings-option">
                        <div>
                            <div class="settings-option-label" data-en="Theme" data-es="Tema">Tema</div>
                            <div class="settings-option-description" data-en="Choose between light and dark theme" data-es="Elige entre tema claro y oscuro">Elige entre tema claro y oscuro</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="themeToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <!-- Opción de tamaño de fuente -->
                    <div class="settings-option">
                        <div>
                            <div class="settings-option-label" data-en="Font Size" data-es="Tamaño de Fuente">Tamaño de Fuente</div>
                            <div class="settings-option-description" data-en="Adjust the font size of the interface" data-es="Ajusta el tamaño de fuente de la interfaz">Ajusta el tamaño de fuente de la interfaz</div>
                        </div>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="fontSize" value="small">
                                <span class="radio-custom"></span>
                                <span data-en="Small" data-es="Pequeño">Pequeño</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="fontSize" value="medium" checked>
                                <span class="radio-custom"></span>
                                <span data-en="Medium" data-es="Mediano">Mediano</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="fontSize" value="large">
                                <span class="radio-custom"></span>
                                <span data-en="Large" data-es="Grande">Grande</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Grupo de configuración de accesibilidad -->
                <div class="settings-group">
                    <h2 class="settings-title" data-en="Accessibility" data-es="Accesibilidad">Accesibilidad</h2>
                    
                    <!-- Opción de reducción de movimiento -->
                    <div class="settings-option">
                        <div>
                            <div class="settings-option-label" data-en="Reduce Motion" data-es="Reducir Movimiento">Reducir Movimiento</div>
                            <div class="settings-option-description" data-en="Minimize animations throughout the interface" data-es="Minimiza las animaciones en toda la interfaz">Minimiza las animaciones en toda la interfaz</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="reduceMotionToggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <!-- Opción de idioma -->
                    <div class="settings-option">
                        <div>
                            <div class="settings-option-label" data-en="Language" data-es="Idioma">Idioma</div>
                            <div class="settings-option-description" data-en="Choose your preferred language" data-es="Elige tu idioma preferido">Elige tu idioma preferido</div>
                        </div>
                        <select class="settings-select" id="languageSelect">
                            <option value="es">Español</option>
                            <option value="en">English</option>
                        </select>
                    </div>
                </div>
                
                <!-- Grupo de configuración de rendimiento -->
                <div class="settings-group">
                    <h2 class="settings-title" data-en="Performance" data-es="Rendimiento">Rendimiento</h2>
                    
                    <!-- Opción de calidad gráfica -->
                    <div class="settings-option">
                        <div>
                            <div class="settings-option-label" data-en="Graphics Quality" data-es="Calidad Gráfica">Calidad Gráfica</div>
                            <div class="settings-option-description" data-en="Adjust the graphics quality for better performance" data-es="Ajusta la calidad gráfica para un mejor rendimiento">Ajusta la calidad gráfica para un mejor rendimiento</div>
                        </div>
                        <div class="range-slider">
                            <input type="range" min="1" max="3" value="2" id="graphicsQualitySlider">
                            <span class="range-value" id="graphicsQualityValue">2</span>
                        </div>
                    </div>
                    
                    <!-- Opción de efectos visuales -->
                    <div class="settings-option">
                        <div>
                            <div class="settings-option-label" data-en="Visual Effects" data-es="Efectos Visuales">Efectos Visuales</div>
                            <div class="settings-option-description" data-en="Enable or disable visual effects" data-es="Activa o desactiva los efectos visuales">Activa o desactiva los efectos visuales</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="visualEffectsToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                
                <!-- Botón de guardar configuración -->
                <button class="settings-button" id="saveSettingsButton">
                    <span data-en="Save Settings" data-es="Guardar Configuración">Guardar Configuración</span>
                </button>
            </div>
        </div>
        <!-- Nueva sección de recompensas -->
        <div id="rewardsSection" class="content-section">
            <h1 class="section-title">
                <i class="fas fa-gift"></i> <span data-en="Rewards" data-es="Recompensas">Recompensas</span>
            </h1>
            <div class="welcome-container" style="max-width:500px;margin:0 auto;">
                <p class="welcome-text" data-en="Enter a reward code to claim your prize! (Only once per code)" data-es="¡Ingresa un código de recompensa para obtener tu premio! (Solo una vez por código)">
                    ¡Ingresa un código de recompensa para obtener tu premio! (Solo una vez por código, los códigos estarán escondidos en la página, otros estarán en el discord, así que únete.)
                </p>
                <form id="rewardCodeForm" style="display:flex;gap:1em;flex-wrap:wrap;align-items:center;justify-content:center;margin-top:2em;">
                    <input type="text" id="rewardCodeInput" class="profile-input" placeholder="Código de recompensa" style="flex:1;min-width:180px;">
                    <button type="submit" class="background-button primary"><i class="fas fa-gift"></i> Canjear</button>
                </form>
                <div id="rewardCodeStatus" style="margin-top:1em;font-size:1.1em;min-height:2em;"></div>
            </div>
        </div>
        <!-- Sección de perfil -->
        <div id="profileSection" class="content-section">
            <h1 class="section-title">
                <i class="fas fa-id-card"></i> <span data-en="Profile" data-es="Perfil">Perfil</span>
            </h1>
            
            <div class="profile-container">
                <div class="profile-header">
                    <div class="profile-avatar-container">
                        <div class="profile-avatar" id="profileAvatar">
                            <img id="profileAvatarImg" src="" alt="Avatar" style="display:none;" />
                            <i class="fas fa-user" id="profileAvatarIcon"></i>
                        </div>
                        <input type="file" id="avatarFileInput" accept="image/*" style="display:none;" />
                        <input type="text" id="avatarUrlInput" class="profile-input" placeholder="Pega URL de imagen (jpg/png/gif/webp) y presiona Enter" style="width:100%;max-width:320px;" />
                    </div>
                </div>
                <br/>
                <form class="profile-form" id="profileForm">
                    <br/>
                    <div class="profile-field">
                        <label for="profileSurname" data-en="Surname" data-es="Apellido">Apellido</label>
                        <input type="text" id="profileSurname" class="profile-input" placeholder="Tu apellido">
                    </div>
                    
                    <div class="profile-field">
                        <label for="profileAge" data-en="Age" data-es="Edad">Edad</label>
                        <input type="number" id="profileAge" class="profile-input" placeholder="Tu edad" min="1" max="120">
                    </div>
                    
                    <div class="profile-field">
                        <label data-en="Gender" data-es="Género">Género</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="gender" value="male" id="genderMale">
                                <span class="radio-custom"></span>
                                <span data-en="Male" data-es="Masculino">Masculino</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="gender" value="female" id="genderFemale">
                                <span class="radio-custom"></span>
                                <span data-en="Female" data-es="Femenino">Femenino</span>
                            </label>
                        </div>
                    </div>
                    <div class="profile-field">
                        <label for="profileBio" data-en="Biography" data-es="Biografía">Biografía</label>
                        <textarea id="profileBio" class="profile-input" rows="3" maxlength="300" placeholder="Escribe algo sobre ti..."></textarea>
                    </div>
                    <div class="profile-actions">
                        <button type="button" class="background-button primary" id="saveProfileButton">
                            <i class="fas fa-save"></i> <span data-en="Save Profile" data-es="Guardar Perfil">Guardar Perfil</span>
                        </button>
                    </div>
                </form>
                <div class="profile-field" style="margin-top:1rem;">
                    <label for="apassToggle">APASS (AstralProton Anti Securly System)</label>
                    <div style="display:flex;align-items:center;gap:1rem;margin-top:0.5rem;">
                        <label class="toggle-switch" style="margin:0;">
                            <input type="checkbox" id="apassToggle">
                            <span class="toggle-slider"></span>
                        </label>
                        <br/>
                    </div>
                    <p style="font-size:0.95rem;color:var(--text-color);opacity:0.9;">
                        Si está activado, la pagina utilizara el sistema de proteccion APASS para abrir los juegos dentro de la aplicacion sin sitios web externos, evitando bloqueos por parte de extensiones o politicas. <b>Recomendado</b>.
                    </p>
                </div>
                <br/>
                <!-- Bro Ricardini con Cristalini-->
                <div class="profile-field">
                <h3 class="profile-section-title">Relaciones Sociales</h3>
                    <div id="profileRelations"></div>
                    <button class="background-button primary" id="addRelationBtn">
                        <i class="fas fa-heart"></i> Agregar relación
                    </button>
                </div>
                <!-- Botón de donar estrellas -->
                <div style="margin-top:1rem;">
                    <button class="background-button" id="openDonateBtn">
                        <i class="fas fa-hand-holding-star"></i> Donar estrellas
                    </button>
                </div>
                <!-- Sección de fondo personalizado -->
                <h3 class="profile-section-title">Fondo Personalizado</h3>
                <div class="background-options">
                    <div class="background-tpreview">
                        <div class="background-preview-container" id="backgroundPreview">
                            <i class="fas fa-image"></i>
                            <span data-en="Background Preview" data-es="Vista previa del fondo">Vista previa del fondo</span>
                        </div>
                    </div>
                    <div class="background-controls">
                        <div class="profile-field">
                            <label for="backgroundUrl" data-en="Background URL" data-es="URL del fondo">URL del fondo</label>
                            <input type="text" id="backgroundUrl" class="profile-input" placeholder="https://example.com/image.jpg">
                        </div>
                        <div class="upload-background-container">
                            <button class="background-button primary" id="applyUrlButton">
                                <i class="fas fa-link"></i> <span data-en="Apply URL" data-es="Aplicar URL">Aplicar URL</span>
                            </button>
                            <button class="background-button" id="chooseFileButton">
                                <i class="fas fa-file-image"></i> <span data-en="Choose File" data-es="Elegir Archivo">Elegir Archivo</span>
                            </button>
                            <input type="file" id="backgroundFileInput" accept="image/*" style="display: none;">
                        </div>
                        <div class="background-actions">
                            <button class="background-button danger" id="removeBackgroundButton">
                                <i class="fas fa-trash"></i> <span data-en="Remove Background" data-es="Quitar Fondo">Quitar Fondo</span>
                            </button>
                            <button class="background-button primary" id="saveBackgroundButton">
                                <i class="fas fa-save"></i> <span data-en="Save Changes" data-es="Guardar Cambios">Guardar Cambios</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div id="profileBadges" class="profile-field" style="margin:2rem 0 1rem 0;">
                    <!-- Las insignias se mostrarán aquí dinámicamente -->
                </div>
                <!-- Sección de personalización de colores -->
                <h3 class="profile-section-title">Personalización de Colores</h3>
                <div class="color-customization">
                    <div class="profile-field">
                        <label for="headerColor">Color de la Barra Superior:</label>
                        <input type="color" id="headerColor" class="color-picker" value="#0a0a2a">
                        <div class="color-preview" id="headerColorPreview"></div>
                    </div>
                    <div class="profile-field">
                        <label for="sidebarColor">Color de la Barra Lateral:</label>
                        <input type="color" id="sidebarColor" class="color-picker" value="#0a0a2a">
                        <div class="color-preview" id="sidebarColorPreview"></div>
                    </div>
                    <div class="profile-field">
                        <label for="accentColor">Color de Acento:</label>
                        <div class="color-picker-container">
                            <div class="color-gradient" id="colorGradient">
                                <div class="color-selector" id="colorSelector"></div>
                            </div>
                            <div class="hue-slider-container">
                                <input type="range" min="0" max="360" value="230" class="hue-slider" id="hueSlider">
                            </div>
                            <div class="color-values">
                                <div class="color-value-field">
                                    <label for="colorR">R</label>
                                    <input type="number" id="colorR" min="0" max="255" value="65" class="color-value-input">
                                </div>
                                <div class="color-value-field">
                                    <label for="colorG">G</label>
                                    <input type="number" id="colorG" min="0" max="255" value="105" class="color-value-input">
                                </div>
                                <div class="color-value-field">
                                    <label for="colorB">B</label>
                                    <input type="number" id="colorB" min="0" max="255" value="225" class="color-value-input">
                                </div>
                            </div>
                            <div class="color-preview" id="accentColorPreview"></div>
                        </div>
                    </div>
                    <div class="color-actions">
                        <button id="applyColors" class="background-button primary">
                            <i class="fas fa-paint-brush"></i> Aplicar Colores
                        </button>
                        <button id="resetColors" class="background-button danger">
                            <i class="fas fa-undo"></i> Restablecer Colores
                        </button>
                    </div>
                </div>
                <h3 class="profile-section-title">Custom Firmware (ASPCF)</h3>
                <div class="background-options">
                <div class="profile-field">
                    <label for="firmwareFileInput">Instalar Custom Firmware (.aspcf):</label>
                    <input type="file" id="firmwareFileInput" accept=".aspcf,application/json" style="display:none;">
                    <button class="background-button primary" id="installFirmwareBtn">
                    <i class="fas fa-microchip"></i> Instalar Firmware
                    </button>
                    <div id="firmwareStatus" style="margin-top:10px;font-size:0.95em;opacity:0.8;"></div>
                </div>
                </div>
                <h3 class="profile-section-title">Cursor Personalizado</h3>
                <div class="background-options">
                <div class="profile-field">
                    <label for="customCursorUrl">URL de cursor (.cur, .png):</label>
                    <input type="text" id="customCursorUrl" class="profile-input" placeholder="https://example.com/cursor.cur">
                    <input type="file" id="customCursorFile" accept=".cur,.png,.jpg,.jpeg,.gif,.webp,image/*" style="display:none;">
                    <button class="background-button primary" id="applyCustomCursorBtn">
                    <i class="fas fa-mouse-pointer"></i> Aplicar Cursor
                    </button>
                    <button class="background-button" id="chooseCustomCursorFileBtn">
                    <i class="fas fa-upload"></i> Subir Cursor/Imagen
                    </button>
                    <div id="customCursorInfo" style="margin-top: 5px; font-size: 0.9rem; opacity: 0.8;"></div>
                </div>
                </div>
                <h3 class="profile-section-title">Música Personalizada</h3>
                <div class="background-options">
                    <div class="profile-field">
                        <label for="customMusicFile">Subir música de fondo:</label>
                        <div class="upload-background-container">
                            <button class="background-button" id="chooseCustomMusicButton">
                                <i class="fas fa-music"></i> <span>Elegir Archivo de Audio</span>
                            </button>
                            <input type="file" id="customMusicFile" accept="audio/*" style="display: none;">
                        </div>
                        <div class="custom-music-info" id="customMusicInfo" style="margin-top: 10px; font-size: 0.9rem; opacity: 0.8;">
                            No hay música personalizada seleccionada
                        </div>
                    </div>
                    <div class="background-actions" style="margin-top: 15px;">
                        <button class="background-button danger" id="removeCustomMusicButton">
                            <i class="fas fa-trash"></i> <span>Eliminar Música</span>
                        </button>
                        <button class="background-button primary" id="saveCustomMusicButton">
                            <i class="fas fa-save"></i> <span>Guardar Música</span>
                        </button>
                    </div>
                </div>
                <h3 class="profile-section-title">Personalización de Fuente y Cursor</h3>
                <div class="background-options">
                    <div class="profile-field">
                        <label for="profileFont">Fuente de la página:</label>
                        <select id="profileFont" class="profile-input">
                            <option value="'Montserrat', sans-serif">Montserrat (Default)</option>
                            <option value="'Roboto', sans-serif">Roboto</option>
                            <option value="'Comic Sans MS', cursive, sans-serif">Comic Sans</option>
                            <option value="'Courier New', monospace">Courier New</option>
                            <option value="'Arial', sans-serif">Arial</option>
                            <option value="'Times New Roman', serif">Times New Roman</option>
                        </select>
                    </div>
                    <div class="profile-field">
                        <label for="customFontUrl">URL de Google Fonts:</label>
                        <input type="text" id="customFontUrl" class="profile-input" placeholder="https://fonts.googleapis.com/css2?family=...">
                        <button class="background-button primary" id="applyCustomFontUrl">
                            <i class="fas fa-link"></i> <span>Aplicar Fuente</span>
                        </button>
                        <div id="customFontUrlInfo" style="margin-top: 5px; font-size: 0.9rem; opacity: 0.8;"></div>
                    </div>
                    <div class="profile-field">
                        <label for="hoverSoundFileInput">Sonido personalizado de hover:</label>
                        <div class="upload-background-container">
                            <button class="background-button" id="chooseHoverSoundButton">
                                <i class="fas fa-volume-up"></i> <span>Elegir Sonido</span>
                            </button>
                            <input type="file" id="hoverSoundFileInput" accept="audio/*" style="display: none;">
                        </div>
                        <div id="hoverSoundInfo" style="margin-top: 10px; font-size: 0.9rem; opacity: 0.8;">
                            No hay sonido personalizado seleccionado
                        </div>
                        <div style="margin-top:10px;">
                            <button class="background-button danger" id="removeHoverSoundButton">
                                <i class="fas fa-trash"></i> <span>Quitar Sonido</span>
                            </button>
                            <button class="background-button primary" id="saveHoverSoundButton">
                                <i class="fas fa-save"></i> <span>Guardar Sonido</span>
                            </button>
                        </div>
                        <div id="achievementsPanel">
                            <h2><i class="fas fa-trophy"></i> Logros</h2>
                            <ul class="achievement-list" id="achievementList"></ul>
                        </div>
                        <div id="achievementToast"></div>
                    </div>
                </div>
                <h3 class="profile-section-title">Posición de la Barra Lateral</h3>
                <div class="profile-field">
                    <label for="sidebarPosition">Ubicación de la barra:</label>
                    <select id="sidebarPosition" class="profile-input">
                        <option value="left">Izquierda (default)</option>
                        <option value="right">Derecha</option>
                        <option value="bottom">Abajo</option>
                        <option value="top">Arriba (junto al header)</option>
                    </select>
                </div>
                <h3 class="profile-section-title">Extras de Personalización</h3>
                <div class="background-options">
                <div class="profile-field">
                    <label for="customPageTitle">Título personalizado de la página:</label>
                    <input type="text" id="customPageTitle" class="profile-input" placeholder="Mi AstralProton personalizado">
                    <button class="background-button primary" id="applyCustomPageTitleBtn">
                    <i class="fas fa-heading"></i> Aplicar Título
                    </button>
                </div>
                <div class="profile-field">
                    <label for="customFaviconUrl">Favicon personalizado (URL .ico/.png):</label>
                    <input type="text" id="customFaviconUrl" class="profile-input" placeholder="https://example.com/favicon.ico">
                    <button class="background-button primary" id="applyCustomFaviconBtn">
                    <i class="fas fa-star"></i> Aplicar Favicon
                    </button>
                </div>
                </div>
            </div>
        </div>
        <div id="shopSection" class="content-section">
            <h1 class="section-title">
                <i class="fas fa-store"></i> <span data-en="Shop" data-es="Tienda">Tienda</span>
            </h1>
            <div class="welcome-container" style="margin-bottom:2rem;">
                <p class="welcome-text" data-en="Spend your stars on themes, badges, and exclusive games!" data-es="¡Gasta tus estrellas en temas, insignias y juegos exclusivos! Nota: Para que la tienda reconozca tus estrellas, debes recargar la pagina">
                    ¡Gasta tus estrellas en temas, insignias y juegos exclusivos!
                </p>
                <div style="font-size:1.2em;margin:1em 0;">
                    <i class="fas fa-star" style="color:gold;"></i>
                    <b>Estrellas disponibles:</b>
                    <span id="shopPointsValue" style="font-weight:bold;">0</span>
                </div>
            </div>
            <div class="shop-tabs" style="display:flex;gap:1rem;margin-bottom:1.5rem;">
                <button class="background-button primary shop-tab active" data-tab="themes">Temas</button>
                <button class="background-button primary shop-tab" data-tab="badges">Insignias</button>
                <button class="background-button primary shop-tab" data-tab="games">Juegos Exclusivos</button>
            </div>
            <div id="shopThemes" class="shop-tab-content">
                <h2 style="color:var(--accent-color);margin-bottom:1rem;">Temas</h2>
                <div class="games-grid" id="shopThemesGrid"></div>
            </div>
            <div id="shopBadges" class="shop-tab-content" style="display:none;">
                <h2 style="color:var(--accent-color);margin-bottom:1rem;">Insignias</h2>
                <div class="games-grid" id="shopBadgesGrid"></div>
            </div>
            <div id="shopGames" class="shop-tab-content" style="display:none;">
                <h2 style="color:var(--accent-color);margin-bottom:1rem;">Juegos Exclusivos</h2>
                <div class="games-grid" id="shopGamesGrid"></div>
            </div>
        </div>
        <div id="rulesSection" class="content-section">
            <h1 class="section-title">
                <i class="fas fa-gavel"></i> <span data-en="Rules" data-es="Reglas">Reglas</span>
            </h1>
            <div class="welcome-container">
                <p class="welcome-text" data-en="Please follow these rules to ensure a safe and fun environment for everyone." data-es="Por favor, sigue estas reglas para asegurar un entorno seguro y divertido para todos.">
                    Por favor, sigue estas reglas para asegurar un entorno seguro y divertido para todos.
                </p>
                <ul style="text-align:left;max-width:700px;margin:1.5em auto 0 auto;line-height:1.7;">
                    <li><b>Respeta a los demás usuarios</b>. No se tolerarán insultos, acoso o lenguaje ofensivo.</li>
                    <li><b>No hagas spam</b> ni promociones contenido externo sin permiso.</li>
                    <li><b>No intentes vulnerar la seguridad</b> de la plataforma ni uses hacks o trampas en los juegos.</li>
                    <li><b>Reporta cualquier problema</b> o comportamiento inapropiado a los administradores.</li>
                    <li><b>Usa la plataforma de acuerdo a las normas de tu escuela o institución</b> si aplica.</li>
                    <li><b>El incumplimiento de estas normas puede resultar en una <span class="sancion">sanción</span> temporal o permanente.</b></li>
                    <li><b>No publiques contenido inapropiado, violento, sexual o ilegal.</b></li>
                    <li><b>Está prohibido compartir enlaces maliciosos o spam.</b></li>
                    <li><b>Los administradores se reservan el derecho de eliminar contenido o usuarios que consideren inapropiados.</b></li>
                    <li><b>No se permite la suplantación de identidad.</b></li>
                    <li><b>Si usted se pelea de manera <span class="sancion">personal</span> con un administrador y esta pelea NO tiene que ver con AstralProton, el administrador <span class="sancion">NO</span> puede banearte, restarte estrellas, expulsarte ni similares de AstralProton.</b></li>
                </ul>
                <p class="welcome-text" style="margin-top:2em;" data-en="If you have questions about the rules, contact the support team." data-es="Si tienes dudas sobre las reglas, contacta al equipo de soporte.">
                    Si tienes dudas sobre las reglas, contacta al equipo de soporte.
                </p>
            </div>
        </div>
        <div id="appsSection" class="content-section">
            <h1 class="section-title">
                <i class="fas fa-th-large"></i> <span data-en="Apps" data-es="Apps">Apps</span>
            </h1>
            <div class="games-grid" id="appsGrid">
                <!-- Las apps se cargarán dinámicamente aquí -->
            </div>
        </div>
        <div id="communitySection" class="content-section">
            <h1 class="section-title">
                <i class="fas fa-users"></i> <span data-en="Community" data-es="Comunidad">Comunidad</span>
            </h1>
            <div class="community-grid" id="communityGrid">
                <!-- Aquí se mostrarán los usuarios dinámicamente -->
            </div>
        </div>
    </div>
</div>

<!-- Modal de perfil de usuario -->
<div id="userProfileModal" style="display:none;position:fixed;z-index:9999;top:0;left:0;width:100vw;height:100vh;background:rgba(10,10,42,0.92);align-items:center;justify-content:center;">
  <div id="userProfileModalContent" style="background:var(--card-bg);border-radius:18px;box-shadow:0 8px 32px #000a;padding:2.5rem 2rem;max-width:700px;width:95vw;max-height:90vh;overflow-y:auto;position:relative;">
    <!-- Aquí se inyecta el perfil -->
  </div>
</div>

<!-- Panel de amigos (puedes moverlo donde quieras, pero fuera de .main-container) -->
<div id="friendsPanel" style="display:none;"></div>
<!-- Alerta -->
<div class="alert" id="alert">
    <h3 class="alert-title" id="alertTitle">Título de la alerta</h3>
    <p class="alert-message" id="alertMessage">Mensaje de la alerta</p>
    <div class="alert-buttons">
        <button class="alert-button" id="alertButton">Aceptar</button>
    </div>
</div>

<!-- Overlay -->
<div class="overlay" id="overlay"></div>

<!-- Donate modal (global, cubre toda la página) -->
<div id="donateModal" class="modal-overlay" aria-hidden="true" role="dialog" aria-labelledby="donateTitle">
  <div class="donate-modal" role="document">
    <h3 id="donateTitle" style="margin:0 0 0.6rem;color:var(--accent-color);font-weight:700;"><i class="fas fa-gift"></i> Donar estrellas</h3>
    <div style="margin-bottom:0.6rem;">
      <label for="donateRecipient">ID del receptor</label>
      <input id="donateRecipient" class="profile-input" placeholder="Escribe el ID del usuario">
    </div>
    <div style="margin-bottom:0.6rem;">
      <label for="donateAmount">Cantidad</label>
      <input id="donateAmount" type="number" min="1" class="profile-input" placeholder="Ej. 10">
    </div>
    <div style="margin-bottom:0.6rem;">
      <label for="donatePassword">Tu contraseña local</label>
      <input id="donatePassword" type="password" class="profile-input" placeholder="Contraseña de la página">
    </div>
    <div id="donateError" style="color:#ff3366;margin-bottom:0.6rem;min-height:1.1em;"></div>
    <div style="display:flex;gap:0.6rem;justify-content:flex-end;">
      <button class="background-button" id="donateCancelBtn">Cancelar</button>
      <button class="background-button primary" id="donateSubmitBtn">Enviar donación</button>
    </div>
  </div>
</div>


<!-- Contenedor de iframe para juegos -->
<div class="game-iframe-container" id="gameIframeContainer">
    <iframe id="gameIframe" class="game-iframe" src="about:blank"></iframe>
    <div class="game-controls">
        <button class="game-control-button fullscreen-button" id="fullscreenButton">
            <i class="fas fa-expand"></i> <span data-en="Fullscreen" data-es="Pantalla Completa">Pantalla Completa</span>
        </button>
        <button class="game-control-button directory-button" id="openDirectoryButton">
            <i class="fas fa-code"></i> <span data-en="Open in Directory Mode" data-es="Abrir en modo directorio">Abrir en modo directorio</span>
        </button>
        <button class="game-control-button back-button" id="backToMenuButton">
            <i class="fas fa-arrow-left"></i> <span data-en="Back to Menu" data-es="Volver al Menú">Volver al Menú</span>
        </button>
    </div>
</div>

   <div class="game-controls">
        <button class="game-control-button fullscreen-button" id="fullscreenButton">
            <i class="fas fa-expand"></i> <span data-en="Fullscreen" data-es="Pantalla Completa">Pantalla Completa</span>
        </button>
        <button class="game-control-button directory-button" id="openDirectoryButton">
            <i class="fas fa-code"></i> <span data-en="Open in Directory Mode" data-es="Abrir en modo directorio">Abrir en modo directorio</span>
        </button>
        <button class="game-control-button back-button" id="backToMenuButton">
            <i class="fas fa-arrow-left"></i> <span data-en="Back to Menu" data-es="Volver al Menú">Volver al Menú</span>
        </button>
    </div>

<!-- Modal de juego aleatorio -->
<div class="overlay" id="randomGameOverlay">
  <div class="alert show" id="randomGameModal">
    <div class="alert-title" id="randomGameTitle">Juego aleatorio</div>
    <img id="randomGameImage" src="" alt="Juego" style="width:100%; border-radius:12px; margin:1rem 0;">
    <div class="alert-buttons">
      <button class="alert-button" onclick="playRandomGame()">Jugar</button>
      <button class="alert-button secondary" onclick="openRandomGameModal()">Elegir de nuevo</button>
      <button class="alert-button destructive" onclick="closeRandomGameModal()">Cancelar</button>
    </div>
  </div>
</div>

<div id="gameRunningOverlay" style="display:none;position:fixed;z-index:99999;top:0;left:0;width:100vw;height:100vh;background:#000;align-items:center;justify-content:center;flex-direction:column;">
  <div style="color:#fff;font-size:2.2rem;font-weight:bold;margin-bottom:1.2rem;" id="gameRunningTitle"></div>
  <div style="color:#ffd700;font-size:1.1rem;">Favor de cerrar la ventana emergente para volver al menú.</div>
  <button id="closeGameOverlayBtn" style="margin-top:2rem;padding:1rem 2rem;font-size:1.2rem;background:linear-gradient(45deg,#4169e1,#ff3366);color:#fff;border:none;border-radius:12px;cursor:pointer;font-weight:bold;">Cerrar</button>
</div>

<div id="inviteFriendModal" style="display:none;position:fixed;z-index:99999;top:0;left:0;width:100vw;height:100vh;background:rgba(10,10,42,0.92);align-items:center;justify-content:center;">
  <div style="background:var(--card-bg);border-radius:18px;box-shadow:0 8px 32px #000a;padding:2.5rem 2rem;max-width:400px;width:95vw;max-height:90vh;overflow-y:auto;position:relative;">
    <h2 style="color:var(--accent-color);margin-bottom:1rem;"><i class="fas fa-user-plus"></i> Invitar amigo a jugar</h2>
    <input type="text" id="inviteFriendUserId" class="profile-input" placeholder="ID de tu amigo">
    <div style="display:flex;gap:1em;justify-content:flex-end;margin-top:1.5em;">
      <button id="sendInviteFriendBtn" class="background-button primary"><i class="fas fa-paper-plane"></i> Enviar invitación</button>
      <button id="cancelInviteFriendBtn" class="background-button danger"><i class="fas fa-times"></i> Cancelar</button>
    </div>
    <div id="inviteFriendError" style="color:#ff3366;margin-top:0.7em;min-height:1.2em;"></div>
  </div>
</div>
 
<div class="audio-controls" id="audioToggle">
    <i class="fas fa-volume-up"></i>
</div>
<div class="audio-controls" id="audioToggle">
    <i class="fas fa-volume-up"></i> <p>APASS (AstralProton Advanced Security System)</p>
</div>

<!-- Modal para mensaje de solicitud de amistad -->
<div id="friendRequestModal" style="display:none;position:fixed;z-index:99999;top:0;left:0;width:100vw;height:100vh;background:rgba(10,10,42,0.92);align-items:center;justify-content:center;">
  <div style="background:var(--card-bg);border-radius:18px;box-shadow:0 8px 32px #000a;padding:2.5rem 2rem;max-width:400px;width:95vw;max-height:90vh;overflow-y:auto;position:relative;">
    <h2 style="color:var(--accent-color);margin-bottom:1rem;"><i class="fas fa-user-plus"></i> Agregar amigo</h2>
    <div id="friendRequestUser" style="font-weight:600;margin-bottom:1rem;"></div>
    <textarea id="friendRequestMsg" rows="3" maxlength="200" placeholder="Escribe un mensaje para tu solicitud (opcional)" style="width:100%;border-radius:8px;padding:0.7em;margin-bottom:1.2em;"></textarea>
    <div style="display:flex;gap:1em;justify-content:flex-end;">
      <button id="sendFriendRequestModalBtn" class="background-button primary"><i class="fas fa-paper-plane"></i> Enviar</button>
      <button id="cancelFriendRequestModalBtn" class="background-button danger"><i class="fas fa-times"></i> Cancelar</button>
    </div>
  </div>
</div>

<div id="relationModal" style="display:none;position:fixed;z-index:99999;top:0;left:0;width:100vw;height:100vh;background:rgba(10,10,42,0.92);align-items:center;justify-content:center;">
  <div style="background:var(--card-bg);border-radius:18px;box-shadow:0 8px 32px #000a;padding:2.5rem 2rem;max-width:400px;width:95vw;max-height:90vh;overflow-y:auto;position:relative;">
    <h2 style="color:var(--accent-color);margin-bottom:1rem;"><i class="fas fa-heart"></i> Nueva relación</h2>
    <select id="relationType" class="profile-input" style="margin-bottom:1em;">
      <option value="romantica">En una relación romántica con...</option>
      <option value="mejor_amigo">Mejor amigo de...</option>
      <option value="hermano">Hermano/a de...</option>
      <option value="enemigo">Enemigo jurado de...</option>
      <option value="compañero">Compañero de aventuras de...</option>
      <!-- Agrega más frases aquí -->
    </select>
    <input type="text" id="relationUserId" class="profile-input" placeholder="ID del otro usuario">
    <div style="display:flex;gap:1em;justify-content:flex-end;margin-top:1.5em;">
      <button id="sendRelationBtn" class="background-button primary"><i class="fas fa-paper-plane"></i> Enviar solicitud</button>
      <button id="cancelRelationBtn" class="background-button danger"><i class="fas fa-times"></i> Cancelar</button>
    </div>
  </div>
</div>

<button id="announcementsBtn" title="Anuncios" style="position:fixed;top:80px;right:30px;z-index:3001;background:linear-gradient(45deg,#ff3366,#4169e1);color:#fff;border:none;border-radius:50%;width:54px;height:54px;box-shadow:0 2px 12px #ff3366;font-size:2rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:box-shadow .2s,background .2s;">
    <i class="fas fa-bullhorn"></i>
    <span id="announcementsAlertDot" style="display:none;position:absolute;top:8px;right:8px;width:14px;height:14px;background:#ff3366;border-radius:50%;box-shadow:0 0 8px #ff3366cc;border:2px solid #fff;"></span>
</button>

<!-- Modal de anuncios -->
<div id="announcementsModal" style="display:none;position:fixed;z-index:99999;top:0;left:0;width:100vw;height:100vh;background:rgba(10,10,42,0.92);align-items:center;justify-content:center;">
  <div style="background:#18183a;padding:2em 2.5em;border-radius:18px;max-width:95vw;max-height:90vh;overflow-y:auto;box-shadow:0 8px 32px #000a;">
    <h2 style="color:var(--accent-color);margin-bottom:1em;"><i class="fas fa-bullhorn"></i> Anuncios</h2>
    <div id="announcementsContent"></div>
    <button class="background-button primary" onclick="closeAnnouncementsModal()" style="margin-top:1.5em;"><i class="fas fa-times"></i> Cerrar</button>
  </div>
</div>
</body>
</html>